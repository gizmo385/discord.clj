<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>discord.api.base documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Discord.clj</span> <span class="project-version">3.0.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>discord</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></div></li><li class="depth-3 branch current"><a href="discord.api.base.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base</span></div></a></li><li class="depth-3 branch"><a href="discord.api.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-3 branch"><a href="discord.api.guilds.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>guilds</span></div></a></li><li class="depth-3 branch"><a href="discord.api.interactions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interactions</span></div></a></li><li class="depth-3"><a href="discord.api.misc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>misc</span></div></a></li><li class="depth-2 branch"><a href="discord.bot.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>bot</span></div></a></li><li class="depth-2 branch"><a href="discord.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="discord.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="discord.embeds.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>embeds</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>extensions</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>builtin</span></div></div></li><li class="depth-4 branch"><a href="discord.extensions.builtin.admin.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>admin</span></div></a></li><li class="depth-4"><a href="discord.extensions.builtin.debug.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>debug</span></div></a></li><li class="depth-3 branch"><a href="discord.extensions.core.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="discord.extensions.reactions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reactions</span></div></a></li><li class="depth-3"><a href="discord.extensions.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-2 branch"><a href="discord.gateway.html"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>gateway</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interactions</span></div></div></li><li class="depth-3 branch"><a href="discord.interactions.commands.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>commands</span></div></a></li><li class="depth-3 branch"><a href="discord.interactions.components.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>components</span></div></a></li><li class="depth-3"><a href="discord.interactions.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>types</span></div></div></li><li class="depth-3 branch"><a href="discord.types.auth.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auth</span></div></a></li><li class="depth-3 branch"><a href="discord.types.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="discord.types.guild.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>guild</span></div></a></li><li class="depth-3 branch"><a href="discord.types.interaction.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interaction</span></div></a></li><li class="depth-3 branch"><a href="discord.types.messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>messages</span></div></a></li><li class="depth-3 branch"><a href="discord.types.permissions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>permissions</span></div></a></li><li class="depth-3 branch"><a href="discord.types.role.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>role</span></div></a></li><li class="depth-3 branch"><a href="discord.types.snowflake.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>snowflake</span></div></a></li><li class="depth-3"><a href="discord.types.user.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user</span></div></a></li><li class="depth-2"><a href="discord.utils.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-1"><a href="user.html"><div class="inner"><span class="tree" style="top: -1044px;"><span class="top" style="height: 1053px;"></span><span class="bottom"></span></span><span>user</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="discord.api.base.html#var-api-version"><div class="inner"><span>api-version</span></div></a></li><li class="depth-1"><a href="discord.api.base.html#var-discord-request"><div class="inner"><span>discord-request</span></div></a></li><li class="depth-1"><a href="discord.api.base.html#var-discord-url"><div class="inner"><span>discord-url</span></div></a></li><li class="depth-1"><a href="discord.api.base.html#var-rate-limit-pool"><div class="inner"><span>rate-limit-pool</span></div></a></li><li class="depth-1"><a href="discord.api.base.html#var-user-agent"><div class="inner"><span>user-agent</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">discord.api.base</h1><div class="doc"><pre class="plaintext">Implements the core REST API logic for the Discord API, including support for rate limiting. Calls
to specific APIs should be done in other namespaces.</pre></div><div class="public anchor" id="var-api-version"><h3>api-version</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-discord-request"><h3>discord-request</h3><div class="usage"><code>(discord-request auth endpoint method &amp; {:keys [json params args constructor], :or {constructor identity}, :as opts})</code></div><div class="doc"><pre class="plaintext">General wrapper function for sending a request to one of the pre-defined Discord API endpoints.
This function calls other helper functions to handle the following:
 - Retrieving the API endpoint to call
 - Formatting the request
 - Sending the API call
 - Deferred retries of API calls in the event of a 429 Rate Limit response

Arguments:
endpoint-key: A keyword that maps to a defined endpoint in endpoint-mapping
auth: Something that implements the Authenticated protocol to auth with the Discord APIs

Options are passed :key val ... Supported options:

:json map - An optional JSON body to pass along with post/put/patch/delete request
:params map - Optional query parameters to pass along with a get request
:args list - In order (format) arguments to correctly format the endpoint from endpoint-mapping
:constructor f - A function which is mapped over API responses to create appropriate Records.</pre></div></div><div class="public anchor" id="var-discord-url"><h3>discord-url</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-rate-limit-pool"><h3>rate-limit-pool</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-user-agent"><h3>user-agent</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div></div></body></html>